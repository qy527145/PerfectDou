# PerfectDou 斗地主实战助手使用指南

## 🎯 功能介绍

PerfectDou实战助手是基于NeurIPS 2022论文的AI斗地主决策系统，为您的实际斗地主对战提供智能建议。

### 核心功能
- **AI智能决策**：基于PerfectDou模型提供最优出牌建议
- **实时状态跟踪**：管理游戏进程、手牌变化、出牌历史
- **多格式输入**：支持中文、英文、简化等多种牌型输入方式
- **策略分析**：提供出牌理由和置信度评估
- **用户友好界面**：直观的命令行交互体验

## 🚀 快速开始

### 1. 启动助手
```bash
# 启动实战助手
poetry run battle

# 或运行演示模式
poetry run demo
```

### 2. 选择身份
程序会提示您选择在游戏中的身份：
- 地主
- 地主上家（农民）
- 地主下家（农民）

### 3. 输入手牌
支持多种输入格式：

**标准格式：**
```
3 4 5 6 7 8 9 10 J Q K A 2 小王 大王
```

**简化格式：**
```
3456789TJQKA2小大
```

**中文格式：**
```
三 四 五 六 七 八 九 十 J Q K A 二 小王 大王
```

### 4. 开始对战
- 程序会显示当前局面和各玩家剩余牌数
- 轮到您时，AI会提供出牌建议
- 输入您要出的牌或选择过牌
- 输入对手的出牌继续游戏

## 📝 输入格式详解

### 牌面表示
| 牌型 | 标准输入 | 简化输入 | 中文输入 |
|------|----------|----------|----------|
| 数字牌 | 3,4,5,6,7,8,9,10 | 3456789T | 三四五六七八九十 |
| 人头牌 | J,Q,K,A | JQKA | J Q K A |
| 2 | 2 | 2 | 二 |
| 小王 | joker, B, 小王 | 小 | 小王 |
| 大王 | JOKER, R, 大王 | 大 | 大王 |

### 常见牌型示例

**单牌：**
```
3        # 单张3
K        # 单张K
小王      # 小王
```

**对子：**
```
3 3      # 一对3
K K      # 一对K
```

**三张：**
```
3 3 3    # 三张3
K K K    # 三张K
```

**炸弹：**
```
3 3 3 3  # 3的炸弹
K K K K  # K的炸弹
```

**王炸：**
```
小王 大王  # 火箭
小 大      # 简化输入
```

**顺子：**
```
3 4 5 6 7        # 单顺
3 3 4 4 5 5      # 连对
3 3 3 4 4 4      # 飞机
```

## 🎮 游戏操作

### 基本命令
- **出牌**：直接输入牌型，如 `3 4 5`
- **过牌**：输入 `pass`
- **帮助**：输入 `help` 查看帮助信息
- **退出**：按 `Ctrl+C` 退出游戏

### AI建议解读
AI会为您提供多个出牌建议，每个建议包含：
- **牌型**：具体要出的牌
- **描述**：牌型说明（如"单张K"、"一对3"）
- **置信度**：AI对该建议的信心程度（0-100%）
- **理由**：选择该牌型的策略原因

示例：
```
🤖 AI建议：
  1. K (单张K) - 置信度:90%
     理由：AI智能体推荐
  2. pass (过牌) - 置信度:60%
     理由：过牌等待时机
  3. A (单张A) - 置信度:50%
     理由：备选方案
```

## 💡 使用技巧

### 1. 输入技巧
- 牌与牌之间用空格分隔
- 支持大小写混合输入
- 可以使用简化符号（如T表示10）
- 王牌可以用多种方式表示

### 2. 策略建议
- 优先考虑AI的高置信度建议
- 注意观察对手剩余牌数
- 合理使用过牌策略
- 关键时刻保留炸弹和王炸

### 3. 常见问题
- **输入无效**：检查牌型格式是否正确
- **无法出牌**：确认是否符合跟牌规则
- **AI无建议**：可能是特殊局面，请手动判断

## 🔧 高级功能

### 自定义设置
程序支持以下自定义选项（未来版本）：
- AI难度调节
- 历史记录保存
- 统计数据分析
- 多种AI模型选择

### 扩展功能
- 支持复盘分析
- 提供训练模式
- 集成在线对战
- 移动端适配

## 🐛 故障排除

### 常见错误
1. **模型加载失败**
   - 检查模型文件是否存在
   - 确认依赖库已正确安装

2. **输入解析错误**
   - 检查牌型输入格式
   - 避免使用特殊字符

3. **游戏状态异常**
   - 重启程序重新开始
   - 检查手牌输入是否正确

### 获取帮助
- 游戏中输入 `help` 查看即时帮助
- 查看项目GitHub页面获取更多信息
- 联系开发团队获取技术支持

## 📞 联系我们

如果您在使用过程中遇到问题或有改进建议，欢迎联系：
- GitHub Issues: [项目地址]
- 邮箱: [联系邮箱]

---

**祝您游戏愉快，牌技大进！** 🎉
